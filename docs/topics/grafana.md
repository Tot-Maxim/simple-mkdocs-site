### [Назад к оглавлению](../index.md)

# [Grafana](https://grafana.com/docs/grafana/latest/)

## Оглавление
1. [Что такое Grafana?](#Что-такое-grafana)
2. [Что такое Grafana Cloud?](#Что-такое-grafana-cloud)
3. [Что такое Grafana Enterprise?](#Что-такое-grafana-enterprise)
4. [Какой порт HTTP по умолчанию у Grafana?](#Какой-порт-http-по-умолчанию-у-grafana)
5. [Как обеспечить работу по HTTPS?](#Как-обеспечить-работу-по-https)
6. [Как установить плагины для Grafana?](#Как-установить-плагины-для-grafana)
7. [Что такое «Источник данных»?](#Что-такое-Источник-данных)
8. [Что такое "Конфигурация по умолчанию"?](#Что-такое-конфигурация-по-умолчанию)
9. [Как добавить пользовательскую конфигурацию в Grafana?](#Как-добавить-пользовательскую-конфигурацию-в-grafana)
10. [Какая внешняя аутентификация поддерживается из коробки?](#Какая-внешняя-аутентификация-поддерживается-из-коробки)
11. [Как импортировать панель в экземпляр Grafana?](#Как-импортировать-панель-в-экземпляр-grafana)
12. [Каков формат данных для панели?](#Каков-формат-данных-для-панели)
13. [Как поделиться панелью с командой?](#Как-поделиться-панелью-с-командой)
14. [Как организовать свои панели и пользователей в Grafana?](#Как-организовать-свои-панели-и-пользователей-в-grafana)
15. [Как создать «Уведомление»?](#Как-создать-Уведомление)

## Что такое Grafana?
<details>
<summary>Объясните, что такое Grafana</summary><br><b>

[Документация Grafana](https://grafana.com/docs/grafana/latest/introduction): "Grafana — это полноценный стек наблюдаемости, который позволяет вам мониторить и анализировать метрики, логи и трассировки. Он позволяет вам выполнять запросы, визуализировать, получать оповещения и понимать ваши данные независимо от того, где они хранятся. Создавайте, изучайте и делитесь красивыми панелями с вашей командой и способствуйте культуре, основанной на данных."
</b></details>

## Что такое Grafana Cloud?
<details>
<summary>Что такое Grafana Cloud?</summary><br><b>

[Grafana Cloud](https://grafana.com/products/cloud/) — это версия Grafana, предлагаемая как услуга через облако. Стек наблюдаемости настраивается, управляется и поддерживается Grafana Labs и предлагает как бесплатные, так и платные опции. Вы также можете отправлять данные из существующих источников данных, например, Prometheus, Loki, и визуализировать существующие временные ряды.
</b></details>

## Что такое Grafana Enterprise?
<details>
<summary>Что такое Grafana Enterprise?</summary><br><b>

[Grafana Enterprise](https://grafana.com/docs/grafana/latest/enterprise/#enterprise-plugins) — это коммерческая версия Grafana с корпоративными функциями, такими как плагины источников данных для предприятий и встроенные функции совместной работы. Это издание включает в себя полную поддержку и обучение от команды Grafana.
</b></details>

## Какой порт HTTP по умолчанию у Grafana?
<details>
<summary>Какой порт HTTP по умолчанию у Grafana?</summary><br><b>

[Инструкция по началу работы с Grafana](https://grafana.com/docs/grafana/latest/getting-started/getting-started/): Grafana работает на порту 3000 по умолчанию.
</b></details>

## Как обеспечить работу по HTTPS?
<details>
<summary>Объясните, как мы можем обеспечить работу по HTTPS</summary><br><b>

[Сообщество Grafana](https://grafana.com/docs/grafana/latest/getting-started/getting-started/): Установите протокол на _https_ в настройках конфигурации, тогда Grafana будет ожидать, что клиенты будут отправлять запросы, используя протокол HTTPS. Любой клиент, использующий HTTP, получит ошибку SSL/TLS.
</b></details>

## Как установить плагины для Grafana?
<details>
<summary>Как мы можем установить плагины для Grafana?</summary><br><b>

[Инструкция по началу работы с Grafana](https://grafana.com/docs/grafana/latest/plugins/installation/): Перейдите на [страницу плагинов Grafana](https://grafana.com/grafana/plugins/), найдите нужный плагин и кликните на него, затем перейдите на вкладку установки. Есть два способа установки в зависимости от того, где работает ваш сервер Grafana:
- Облако: В поле **Для** на вкладке установки выберите название организации, на которую хотите установить плагин (если вы не принадлежите только к одной), затем нажмите **установить плагин**. Grafana Cloud автоматически установит плагин на ваш экземпляр Grafana, вам, возможно, придется выйти и снова войти, чтобы увидеть плагин.
- Локальная Grafana: Вы можете использовать Grafana CLI, который позволяет вам перечислять доступные плагины и устанавливать их.
```
grafana-cli plugins list-remote
grafana-cli plugins install <plugin-id>
```
Вы также можете установить пакетный плагин, скачав ассет из вкладки установки, а затем разархивировав архив в директорию плагина. Путь к директории плагина можно увидеть в конфигурационном файле 
 ```
 unzip my-plugin-0.2.0.zip -d YOUR_PLUGIN_DIR/my-plugin
 ```
</b></details>

## Что такое «Источник данных»?
<details>
<summary>Объясните, что такое «Источник данных»</summary><br><b>

[Документация Grafana](https://grafana.com/docs/grafana/latest/datasources/): Источник данных — это бэкэнд хранения, который служит источником данных для Grafana. Некоторые популярные источники данных: Prometheus, InfluxDB, Loki, AWS CloudWatch.
</b></details>

## Что такое "Конфигурация по умолчанию"?
<details>
<summary>Что такое "Конфигурация по умолчанию"?</summary><br><b>

[Документация Grafana](https://grafana.com/docs/grafana/latest/administration/configuration/): Конфигурация по умолчанию содержит настройки, которые Grafana использует по умолчанию. Местоположение зависит от ОС: 
- Windows: ```$WORKING_DIR/conf/defaults.ini```
- Linux: ```/etc/grafana/grafana.ini```
- macOS: ```/usr/local/etc/grafana/grafana.ini```
</b></details>

## Как добавить пользовательскую конфигурацию в Grafana?
<details>
<summary>Объясните, как мы можем добавить пользовательскую конфигурацию в Grafana</summary><br><b>

[Документация Grafana](https://grafana.com/docs/grafana/latest/administration/configuration/): 
Пользовательская конфигурация может быть настроена либо путем изменения файла пользовательской конфигурации, либо добавлением переменных окружения, которые переопределяют конфигурацию по умолчанию. Конфигурация различается в зависимости от ОС:
- Windows: В той же директории, что и файл defaults.ini, есть файл ```sample.ini```, скопируйте sample.ini и назовите его «custom.ini». Уберите закомментирование настроек, которые вы хотите переопределить.
- Linux: Отредактируйте конфигурационный файл по адресу ```/etc/grafana/grafana.ini```.
- macOS: Добавьте конфигурационный файл с именем ```custom.ini``` в папку conf. Если вы установили Grafana с помощью Homebrew, вы можете вручную отредактировать ```conf/defaults.ini```.
- Docker: Вы можете переопределить существующую конфигурацию в Grafana с помощью переменных окружения. Пример — установка имени экземпляра Grafana: ```E.g. export GF_DEFAULT_INSTANCE_NAME=my-instance```
</b></details>

## Какая внешняя аутентификация поддерживается из коробки?
<details>
<summary>Какая внешняя аутентификация поддерживается из коробки?</summary><br><b>

[Документация Grafana](https://grafana.com/docs/grafana/latest/auth/overview/): Grafana Auth — это встроенная система аутентификации с включенной аутентификацией по паролю по умолчанию.
</b></details>

## Как импортировать панель в экземпляр Grafana?
<details>
<summary>Как мы можем импортировать панель в экземпляр Grafana?</summary><br><b>

[Инструкция по началу работы с Grafana](https://grafana.com/docs/grafana/latest/dashboards/export-import/): Панели Grafana можно импортировать через интерфейс Grafana. Нажмите на иконку + в боковой панели, а затем нажмите «Импорт». Вы можете импортировать панель через следующие опции:
- Загрузив JSON файл панели, который был экспортирован из интерфейса Grafana или получен через [HTTPS API](https://grafana.com/docs/grafana/latest/http_api/dashboard/#create-update-dashboard)
- Вставив URL панели Grafana, который можно найти на [Dashboards Grafana](https://grafana.com/grafana/dashboards/), или уникальный ID панели в текстовую область.
- Вставив необработанный текст JSON панели в область панели.
Нажмите «Загрузить» после этого.
</b></details>

## Каков формат данных для панели?
<details>
<summary>Каков формат данных для панели?</summary><br><b>

[Документация Grafana](https://grafana.com/docs/grafana/latest/dashboards/json-model/): Панели Grafana представлены в виде JSON файлов как объекты, они хранят метаданные о панели, например, свойства панели, метаданные панели и переменные.
</b></details>

## Как поделиться панелью с командой?
<details>
<summary>Объясните шаги, чтобы поделиться вашей панелью с командой</summary><br><b>

[Документация Grafana](https://grafana.com/docs/grafana/latest/sharing/share-dashboard/): Перейдите на домашнюю страницу вашего экземпляра Grafana. Нажмите на иконку «Поделиться» в верхней навигации, после чего будут видны три вкладки с вкладкой «Ссылка». 
- Прямая ссылка: Нажмите «Копировать», отправьте ссылку пользователю Grafana, обратите внимание, что пользователю нужна авторизация для просмотра этой ссылки. Это делается путем добавления пользователя в команду.
- Публичный снимок: Нажмите на локальный снимок, чтобы опубликовать снимок на локальном экземпляре Grafana, или опубликуйте на snapshots.raintank.io, что является бесплатной службой для публикации снимков панелей на внешнем экземпляре Grafana. Вы можете настроить срок действия снимков по истечении определенного времени и значение таймаута для сбора метрик панели.
</b></details>

## Как организовать свои панели и пользователей в Grafana?
<details>
<summary>Как вы можете организовать свои панели и пользователей в Grafana?</summary><br><b>

[Документация Grafana](https://grafana.com/blog/2022/03/14/how-to-best-organize-your-teams-and-resources-in-grafana/): Рекомендуемый способ от Grafana Labs — это создание папок для группировки панелей, библиотечных панелей и оповещений. Пользователи могут быть организованы через команды, которые предоставляют разрешения членам группы.
- [Папки](https://grafana.com/docs/grafana/latest/dashboards/dashboard_folders/): Нажмите на иконку + в боковой панели, затем нажмите «Создать папку». На странице создания папки введите уникальное имя для папки и нажмите «Создать».
- [Команды](https://grafana.com/tutorials/create-users-and-teams/): Вы должны быть администратором сервера, чтобы создать команды.
  1. Нажмите на иконку администратора сервера (щит) в боковой панели, затем на вкладке «Пользователи» нажмите «Новый пользователь».
  2. Введите данные пользователя, например, имя, электронную почту, имя пользователя и пароль. Пароль может быть изменен позже пользователем.
  3. Нажмите «Создать», чтобы создать учетную запись пользователя.
</b></details>

## Как создать «Уведомление»?
<details>
<summary>Объясните шаги для создания «Уведомления»</summary><br><b>

[Документация Grafana](https://grafana.com/docs/grafana/latest/alerting/old-alerting/create-alerts/): 
 
 "Перейдите к панели, для которой вы хотите добавить или изменить правило оповещения, нажмите на название, а затем нажмите «Редактировать». На вкладке «Уведомления» нажмите «Создать уведомление». Если для этой панели уже существует уведомление, вы можете просто отредактировать поля на вкладке «Уведомление». Заполните поля. Описания перечислены ниже в полях правил уведомления. Когда вы закончите писать ваше правило, нажмите «Сохранить» в верхнем правом углу, чтобы сохранить правило уведомления и панель. (Дополнительно, но рекомендуется) Нажмите «Тестировать правило», чтобы убедиться, что правило возвращает ожидаемые результаты."
</b></details>

### [Назад к оглавлению](../index.md)
